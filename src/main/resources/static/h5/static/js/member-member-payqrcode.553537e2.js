(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member-member-payqrcode"],{"046d":function(t,e,n){"use strict";n.r(e);var a=n("d8bd"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"0802":function(t,e,n){var a=n("d264");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("5ab60959",a,!0,{sourceMap:!1,shadowMode:!1})},"13df":function(t,e,n){"use strict";n.r(e);var a=n("2a32"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"2a32":function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("9b1b")),o=a(n("78f5")),s=a(n("2621")),l=n("8f59"),c={data:function(){return{num:"",paymentData:{}}},components:{cwxKeyboard:o.default,paymentBox:s.default},computed:(0,l.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),onLoad:function(t){uni.setNavigationBarTitle({title:this.__("扫码支付")}),this.notice.addNotification("GotoPayCheckout",this.gotopay,this)},onUnload:function(){this.notice.removeNotification("GotoPayCheckout",this),this.$refs.paymentBox.showBoxView&&this.$refs.paymentBox.cancel()},onBackPress:function(){if(this.$refs.paymentBox.showBoxView)return this.$refs.paymentBox.cancel(),!0},methods:(0,i.default)((0,i.default)({},(0,l.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo","reloadUserResource"])),{},{confirmEvent:function(t){var e=this;e.$.request({url:this.Config.URL.user.qrcodeAdd,success:function(n,a,i,o){e.setData({paymentData:{order_id:e.order_id,order_money_amount:t,user_money:n.user_money,user_points:n.user_points}})}}),e.setData({paymentData:{order_money_amount:t}}),e.notice.postNotificationName("GotoPayCheckout")},onCancel:function(t){},onPaid:function(t){},onFail:function(t){},gotopay:function(t){var e=this;return setTimeout((function(){e.$refs.paymentBox.show()}),400),!0}})};e.default=c},"3e8d":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"keyboard",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t._handleKeyPress.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"key-row"},[n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"7"}},[t._v("7")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"8"}},[t._v("8")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"9"}},[t._v("9")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"-1"}})],1),n("v-uni-view",{staticClass:"key-row"},[n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"4"}},[t._v("4")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"5"}},[t._v("5")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"6"}},[t._v("6")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"-1"}})],1),n("v-uni-view",{staticClass:"key-row"},[n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"1"}},[t._v("1")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"2"}},[t._v("2")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"3"}},[t._v("3")]),n("v-uni-view",{staticClass:"key-cell cell_b",attrs:{"data-num":"-1"}})],1),n("v-uni-view",{staticClass:"key-zero-and-point"},[n("v-uni-view",{staticClass:"a cell_b zero",attrs:{"data-num":"0"}},[t._v("0")]),n("v-uni-view",{staticClass:"a cell_b point",attrs:{"data-num":"."}},[t._v(".")])],1),n("v-uni-view",{staticClass:"key-confirm2",attrs:{"data-num":"D"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)}}},[n("v-uni-text",{attrs:{"data-num":"D"}},[t._v("C")])],1),n("v-uni-view",{staticClass:"key-confirm",style:{background:t.btnColor},attrs:{"data-num":"S"}},[n("v-uni-view",{attrs:{"data-num":"S"}},[n("v-uni-view",{staticClass:"title",attrs:{"data-num":"S"}},[t._v(t._s(t.title))])],1)],1)],1)},i=[]},"656e":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"m-cell"},[n("v-uni-view",{staticClass:"m-cell-hd"},[n("v-uni-label",{staticClass:"u-label"},[t._v(t._s(t.__("金额")))])],1),n("v-uni-view",{staticClass:"m-cell-bd"},[n("v-uni-input",{staticClass:"u-input",attrs:{type:"text",value:t.num||"",placeholder:"请输入金额"}})],1)],1),n("cwx-keyboard",{attrs:{money:t.num,"btn-color":"orange",title:"确认付款"},on:{confirmEvent:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmEvent.apply(void 0,arguments)},"update:money":function(e){arguments[0]=e=t.$handleEvent(e),t.num=e}}}),n("payment-box",{ref:"paymentBox",attrs:{paymentDataDefault:t.paymentData},on:{onCancel:function(e){arguments[0]=e=t.$handleEvent(e),t.onCancel.apply(void 0,arguments)},onPaid:function(e){arguments[0]=e=t.$handleEvent(e),t.onPaid.apply(void 0,arguments)},onFail:function(e){arguments[0]=e=t.$handleEvent(e),t.onFail.apply(void 0,arguments)}}})],1)},i=[]},"78f5":function(t,e,n){"use strict";n.r(e);var a=n("3e8d"),i=n("046d");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("9d7d");var s=n("828b"),l=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"030cfe15",null,!1,a["a"],void 0);e["default"]=l.exports},9897:function(t,e,n){"use strict";n.r(e);var a=n("656e"),i=n("13df");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var s=n("828b"),l=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"3ced8248",null,!1,a["a"],void 0);e["default"]=l.exports},"9d7d":function(t,e,n){"use strict";var a=n("0802"),i=n.n(a);i.a},d264:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,".cell_b[data-v-030cfe15]{border-right:1px solid #d5d5d6;border-bottom:1px solid #d5d5d6}.key-container[data-v-030cfe15]{width:100%;display:flex;flex-direction:column}.keyboard[data-v-030cfe15]{flex:1;position:fixed;bottom:0;left:0;height:40vh;width:100%;background:#fff}.keyboard .key-row[data-v-030cfe15]{display:flex;display:-webkit-flex;position:relative;height:10vh;line-height:10vh}.keyboard .key-cell[data-v-030cfe15]{flex:1;-webkit-box-flex:1;font-size:%?60?%;display:flex;justify-content:center;align-items:center}.keyboard .key-confirm[data-v-030cfe15]{position:absolute;text-align:center;height:30vh;width:25%;line-height:30vh;color:#fff;z-index:5;right:0;bottom:0;display:flex;justify-content:center;align-items:center}.keyboard .key-confirm2[data-v-030cfe15]{position:absolute;height:10vh;width:25%;line-height:10vh;z-index:9999;right:0;top:0;display:flex;justify-content:center;align-items:center}.key-zero-and-point[data-v-030cfe15]{display:flex;height:10vh;justify-content:center;align-items:center;width:75%;font-size:%?60?%}.key-zero-and-point .zero[data-v-030cfe15]{display:flex;justify-content:center;align-items:center;width:66.66%;font-size:%?60?%;text-align:center;height:100%}.key-zero-and-point .point[data-v-030cfe15]{display:flex;justify-content:center;align-items:center;width:33.33%;font-size:%?60?%;text-align:center;height:100%}.key-cell[data-v-030cfe15]:active{color:#fff;background:#000;opacity:.1}.a[data-v-030cfe15]:active,\n.key-confirm2[data-v-030cfe15]:active{color:#fff;background:#000;opacity:.1}",""]),t.exports=e},d8bd:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("5ef2"),n("64aa");var a={name:"keyBoard",props:{title:{default:"确认",type:String},btnColor:{default:"green"}},data:function(){return{money:"",Cdel:"",Time:""}},watch:{money:function(t){this.$emit("update:money",t)}},methods:{touchstart:function(){var t=this;this.Time=setInterval((function(){""==t.money&&clearInterval(),t.money=t.money.substring(0,t.money.length-1)}),200)},touchend:function(){clearInterval(this.Time)},_handleKeyPress:function(t){var e=t.target.dataset.num;if(-1==e)return!1;switch(String(e)){case".":this._handleDecimalPoint();break;case"D":this._handleDeleteKey();break;case"C":this._handleClearKey();break;case"S":this._handleConfirmKey();break;default:this._handleNumberKey(e);break}},_handleDecimalPoint:function(){if(this.money.indexOf(".")>-1)return!1;this.money.length?this.money=this.money+".":this.money="0."},_handleDeleteKey:function(){var t=this.money;if(!t.length)return!1;this.money=t.substring(0,t.length-1)},_handleClearKey:function(){this.money=""},_handleNumberKey:function(t){if(10!=this.money.length){var e=this.money;if(e.indexOf(".")>-1&&e.substring(e.indexOf(".")+1).length<2&&(this.money=e+t),!(e.indexOf(".")>-1))if(0==t&&0==e.length)this.money="0.";else{if(e.length&&0===Number(e.charAt(0)))return;this.money=e+t}}},_handleConfirmKey:function(){var t=this.money;if(!t.length||0==t)return uni.showToast({title:"请输入正确的数值",icon:"none",duration:1e3}),!1;t.indexOf(".")>-1&&t.indexOf(".")==t.length-1&&(t=Number(t.substring(0,t.length-1)).toFixed(2)),t=Number(t).toFixed(2),this.$emit("confirmEvent",t)}}};e.default=a}}]);