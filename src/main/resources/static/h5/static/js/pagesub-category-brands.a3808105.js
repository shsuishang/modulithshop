(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesub-category-brands"],{"1a02":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-6664b2fe]:export{theme_bg:#e93323}uni-view[data-v-6664b2fe]{display:flex;flex-direction:column;box-sizing:border-box}.m-product-list[data-v-6664b2fe]{display:inline-block;position:relative;overflow:visible}.m-listv .m-product-item[data-v-6664b2fe]{width:%?220?%;margin:0;margin-top:%?120?%;padding-left:6px;margin-left:%?1?%;height:%?356?%;margin-bottom:%?1?%}.m-listv[data-v-6664b2fe]{margin:%?20?%!important;margin-top:%?120?%!important;border-width:%?1?%;border-style:solid;border-color:#c8c7cc;padding:0!important;background-color:#fff;min-height:%?300?%}.m-listv .m-product-img[data-v-6664b2fe]{width:%?200?%;height:%?200?%;padding:0}.m-product-img[data-v-6664b2fe]{float:left;text-align:center;width:%?200?%;height:%?200?%}.m-product-img uni-image[data-v-6664b2fe]{box-sizing:border-box;padding:%?0?%!important;width:%?200?%;height:%?200?%}.m-product-price1[data-v-6664b2fe]{font-size:%?32?%;color:#e93323;line-height:%?40?%}.m-product-price1 uni-label[data-v-6664b2fe]{font-size:%?24?%}.m-product-name2[data-v-6664b2fe]{font-size:%?28?%;box-sizing:border-box;padding-right:%?20?%;position:relative;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.m-listv .m-product-name2[data-v-6664b2fe]{width:%?240?%;box-sizing:border-box;padding:0 %?20?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.m-listv .m-product-info1[data-v-6664b2fe]{height:%?200?%;width:100%}\r\n/*全部商品 end*/.m-product-price1[data-v-6664b2fe]{width:100%;display:flex;justify-content:space-between}.num[data-v-6664b2fe]{font-size:%?24?%;color:#717171;padding-right:%?20?%\r\n  /*margin-left:260rpx; */}.money[data-v-6664b2fe]{display:inline-block}.media-image-left[data-v-6664b2fe]{flex-direction:row-reverse;position:absolute;z-index:9999999;top:-50px}.media-title[data-v-6664b2fe]{font-size:%?32?%;color:#555;margin-top:%?140?%;margin-left:%?20?%;line-height:%?40?%;height:%?40?%;width:%?440?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis!important}.image-section[data-v-6664b2fe]{flex-direction:row;justify-content:space-between;padding-left:%?12?%}.image-section-right[data-v-6664b2fe]{margin-top:%?0?%;margin-left:%?10?%;width:%?200?%;height:%?200?%}.image-section-left[data-v-6664b2fe]{margin-top:%?0?%;margin-right:%?10?%;width:%?200?%;height:%?200?%}.image-list[data-v-6664b2fe]{width:%?200?%;height:%?200?%}',""]),t.exports=e},2673:function(t,e,n){"use strict";var i=n("e582"),a=n.n(i);a.a},"42b4":function(t,e,n){var i=n("1a02");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("3924f375",i,!0,{sourceMap:!1,shadowMode:!1})},"7934f":function(t,e,n){"use strict";n.r(e);var i=n("a7db"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"79ec":function(t,e,n){"use strict";n.r(e);var i=n("f861"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"94b9b":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-tab-bar"},[n("v-uni-scroll-view",{staticClass:"uni-swiper-tab",attrs:{id:"tab_tab-bar","scroll-x":!0,"scroll-left":t.scrollLeft}},t._l(t.tabBars,(function(e,i){return n("v-uni-view",{key:e.id,staticClass:"swiper-tab-list",class:t.tabIndex==i?"active":"",attrs:{id:"tab_"+e.id,"data-current":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tapTab.apply(void 0,arguments)}}},[t._v(t._s(e.brand_name))])})),1),n("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.tabIndex,duration:300},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab.apply(void 0,arguments)}}},t._l(t.newsitems,(function(e,i){return n("v-uni-swiper-item",{key:i},[n("v-uni-scroll-view",{staticClass:"list",attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore(i)}}},[t._l(e.items,(function(e,a){return[n("brand-product",{key:a+"_0",attrs:{options:e},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close(i,a)},click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetail(e)}}})]})),n("v-uni-view",{staticClass:"uni-tab-bar-loading"},[t._v(t._s(e.loadingText||t.__("加载中....")))])],2)],1)})),1)],1)},a=[]},a7db:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("2634")),r=i(n("2fdc")),s=i(n("9b1b"));n("aa9c"),n("dd2b"),n("c223"),n("bf0f"),n("5c47");var o=i(n("d407")),d=n("8f59"),c={components:{brandProduct:o.default},data:function(){return{scrollLeft:0,isClickChange:!1,tabIndex:0,newsitems:[],tabBars:[{name:"关注",id:"guanzhu"},{name:"推荐",id:"tuijian"},{name:"体育",id:"tiyu"},{name:"热点",id:"redian"},{name:"财经",id:"caijing"},{name:"娱乐",id:"yule"},{name:"军事",id:"junshi"},{name:"历史",id:"lishi"},{name:"本地",id:"bendi"}]}},computed:(0,d.mapState)(["Config","StateCode","notice","plantformInfo","shopInfo","userInfo","hasLogin"]),onLoad:function(){uni.setNavigationBarTitle({title:this.__("推荐品牌")});var t=this;t.$.request({url:t.Config.URL.product.list_brands,loading:!1,success:function(e){t.setData({tabBars:e});for(var n=[],i=0,a=t.tabBars.length;i<a;i++)n.push({items:[]});t.newsitems=n,t.loadBrandsAndProduncts(0)}})},methods:(0,s.default)((0,s.default)({},(0,d.mapMutations)(["login","logout","getPlantformInfo","forceUserInfo","getUserInfo","showCartNum"])),{},{goDetail:function(t){uni.navigateTo({url:"/pages/template/tabbar/detail/detail?title="+t.title})},close:function(t,e){var n=this;uni.showModal({content:"是否删除本条信息？",success:function(i){i.confirm&&n.newsitems[t].items.splice(e,1)}})},loadMore:function(t){var e=this;setTimeout((function(){e.addData(t)}),1200)},addData:function(t){if(this.newsitems[t].total<=this.newsitems[t].page)this.newsitems[t].loadingText="没有更多了";else{var e=this.tabBars[this.tabIndex].brand_id;this.loadBrandsAndProduncts(e,this.newsitems[t].page+1)}},loadBrandsAndProduncts:function(t,e){var n=this,i={};i.brand_id=t,i.page=e,n.$.request({url:n.Config.URL.product.list_brands_products,loading:!1,data:i,success:function(t){if(t.page>1){var e=n.newsitems[n.tabIndex];e.items=e.items.concat(t.items),e.page=t.page,t.page>=t.total?e.loadingText=n.__("没有更多了"):e.loadingText=n.__("加载中...."),n.$set(n.newsitems,n.tabIndex,e)}else t.page>=t.total?t.loadingText=n.__("没有更多了"):t.loadingText=n.__("加载中...."),n.$set(n.newsitems,n.tabIndex,t)}})},changeTab:function(t){var e=this;return(0,r.default)((0,a.default)().mark((function n(){var i,r,s,o,d,c,l,u,f,p;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.target.current,0===e.newsitems[i].items.length&&(r=e.tabBars[i].brand_id,e.loadBrandsAndProduncts(r,1)),!e.isClickChange){n.next=6;break}return e.tabIndex=i,e.isClickChange=!1,n.abrupt("return");case 6:return n.next=8,e.getElSize("tab-bar");case 8:s=n.sent,o=s.scrollLeft,d=0,c=0;case 12:if(!(c<i)){n.next=20;break}return n.next=15,e.getElSize(e.tabBars[c].id);case 15:l=n.sent,d+=l.width;case 17:c++,n.next=12;break;case 20:return u=uni.getSystemInfoSync().windowWidth,n.next=23,e.getElSize(e.tabBars[i].id);case 23:f=n.sent,p=f.width,d+p-o>u&&(e.scrollLeft=d+p-u),d<o&&(e.scrollLeft=d),e.isClickChange=!1,e.tabIndex=i;case 29:case"end":return n.stop()}}),n)})))()},getElSize:function(t){return new Promise((function(e,n){uni.createSelectorQuery().select("#tab_"+t).fields({size:!0,scrollOffset:!0},(function(t){e(t)})).exec()}))},tapTab:function(t){var e=this;return(0,r.default)((0,a.default)().mark((function n(){var i,r,s;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.target.dataset.current,e.newsitems[i].items.length,e.tabIndex!==i){n.next=6;break}return n.abrupt("return",!1);case 6:return n.next=8,e.getElSize("tab-bar");case 8:r=n.sent,s=r.scrollLeft,e.scrollLeft=s,e.isClickChange=!0,e.tabIndex=i;case 13:case"end":return n.stop()}}),n)})))()}})};e.default=c},c876:function(t,e,n){"use strict";var i=n("42b4"),a=n.n(i);a.a},c941:function(t,e,n){"use strict";n.r(e);var i=n("94b9b"),a=n("7934f");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("2673");var s=n("828b"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0a164978",null,!1,i["a"],void 0);e["default"]=o.exports},d26b:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{"background-color":"#e8e8e8"}},[n("v-uni-view",{class:{"m-product-list":1,"m-listv":1}},[n("v-uni-navigator",{attrs:{url:"/pagesub/product/list?brand_id="+t.options.brand_id+"&cname="+t.options.brand_name,"hover-class":"uni-list-cell-hover"}},[n("v-uni-view",{staticClass:"media-image-left "},[n("v-uni-view",{staticClass:"media-title "},[t._v(t._s(t.options.brand_name))]),n("v-uni-view",{staticClass:"image-section image-section-left"},[n("v-uni-image",{staticClass:"image-list",attrs:{src:t.options.brand_image}})],1)],1)],1),t._l(t.options.items,(function(e,i){return[n("v-uni-navigator",{key:i+"_0",staticClass:"m-product-item",attrs:{url:"/pagesub/product/detail?id="+e.item_id,"hover-class":"uni-list-cell-hover"}},[n("v-uni-view",{staticClass:"m-product-img product-list"},[e.product_image?n("v-uni-image",{attrs:{"lazy-load":!0,src:e.product_image}}):t._e()],1),n("v-uni-view",{staticClass:"m-product-info1",staticStyle:{display:"flex","flex-flow":"column","justify-content":"space-between"}},[n("v-uni-view",{staticClass:"m-product-name2"},[n("v-uni-label",[t._v(t._s(e.product_name))])],1),n("v-uni-view",{staticClass:"m-product-price1"},[n("v-uni-view",{staticClass:"money"},[e.product_unit_price?[n("v-uni-label",[t._v(t._s(t.__("￥")))]),n("v-uni-label",[t._v(t._s(e.product_unit_price))])]:t._e(),e.product_unit_points?[n("v-uni-label",{staticStyle:{margin:"0rpx 10rpx"}},[t._v("+")]),n("v-uni-label",[t._v(t._s(t.number_format(e.product_unit_points)))]),n("v-uni-label",[t._v(t._s(t.__("积分")))])]:t._e(),e.product_unit_sp?[n("v-uni-label",{staticStyle:{margin:"0rpx 10rpx"}},[t._v("+")]),n("v-uni-label",[t._v(t._s(e.product_unit_sp))]),n("v-uni-label",[t._v(t._s(t.__("众宝")))])]:t._e()],2),e.SaleNum>0?n("v-uni-view",{staticClass:"num"},[n("v-uni-text",[t._v(t._s(t.__("已售")))]),n("v-uni-label",{staticStyle:{color:"#db384c"}},[t._v(t._s(e.SaleNum))])],1):t._e()],1)],1)],1)]}))],2)],1)},a=[]},d407:function(t,e,n){"use strict";n.r(e);var i=n("d26b"),a=n("79ec");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("c876");var s=n("828b"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"6664b2fe",null,!1,i["a"],void 0);e["default"]=o.exports},e582:function(t,e,n){var i=n("f5aa");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("337d8854",i,!0,{sourceMap:!1,shadowMode:!1})},f5aa:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-0a164978]{width:100%;height:100%;background-size:100% auto;padding:0}body.?%PAGE?%[data-v-0a164978]{background-size:100% auto}.uni-tab-bar[data-v-0a164978]{width:100%;height:calc(100vh - %?88?% - %?100?%);height:100vh}.uni-tab-bar-loading[data-v-0a164978]{text-align:center;font-size:%?28?%;color:#999}',""]),t.exports=e},f861:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{options:{type:Object,default:function(t){return{}}}},methods:{close:function(t){this.$emit("close")},bindClick:function(){this.$emit("click")}}};e.default=i}}]);