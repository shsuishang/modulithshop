import{u as $,e as B,g as C,f as E,r as R,$ as u,t as T,U as p,O as w,p as x,v as y,x as t,y as a,z as d,A as s,F as I,C as O,W as N,X as U}from"./index-78223f15.js";import{b as k,d as A,E as L,a as M}from"./main-0e4d3339.js";import{E as q}from"./image-viewer-32b8c113.js";import{a as H,E as P}from"./step-486a0d8a.js";import{S as m}from"./index-97ee7e1c.js";import{r as G,b as V,c as z}from"./order-2615b0b0.js";import{f as K}from"./helper-16193b38.js";import{_ as W}from"./yes-1a60a976.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import"./debounce-429b1daa.js";import"./index-089c6298.js";import"./dayjs.min-31f5447d.js";const j={name:"returnGet",setup(){$();const e=B(),D=C();let n=E({returnDetail:[],return_state_name:"",returnStateList:D.info.return_state_list,return_id:e.query.return_id||"",active:1}),c=E({logistics_name:"",logistics_num:""});const S=R(),b=E({logistics_name:[{required:!0,message:u("请输入退货单物流名称"),trigger:"blur"}],logistics_num:[{required:!0,message:u("请输入退货单物流单号"),trigger:"blur"}]});let r=()=>{let o={return_id:n.return_id};G(o).then(l=>{let _=l.data;l.status==200?(n.returnDetail=_,n.returnDetail.return_state_id==m.RETURN_PROCESS_SUBMIT?n.active=1:n.returnDetail.return_state_id==m.RETURN_PROCESS_CHECK?n.active=2:n.returnDetail.return_state_id==m.RETURN_PROCESS_FINISH&&(n.active=3),n.returnStateList&&n.returnStateList.forEach(i=>{i.value==n.returnDetail.return_state_id&&(n.return_state_name=i.label)})):p.error(l.msg)})};const f=()=>{w.confirm(u("是否取消此退款单?"),{confirmButtonText:u("确定"),cancelButtonText:u("取消"),center:!0}).then(()=>{V({return_id:n.return_id}).then(o=>{o.status==200?(p.success(u("取消成功")),r()):p.error(o.msg)})})},h=()=>{},g=async o=>{o&&await o.validate((l,_)=>{if(l){console.log("submit!");var i=c;i.return_id=n.return_id,z(i).then(v=>{v.status==200?(p.success(u("操作成功")),r()):p.error(v.msg)})}else console.log("error submit!",_)})};return r(),{StateCode:m,ruleForm:c,rules:b,ruleFormRef:S,cancel:f,confirmReceipt:h,submitForm:g,formatDateOneTime:K,...T(n)}}};const F=e=>(N("data-v-cd6d751a"),e=e(),U(),e),J=F(()=>t("div",null,null,-1)),Q={style:{width:"1200px",margin:"0 auto",background:"#ffffff"}},Y={class:"container-hd"},Z={class:"head-layout"},tt=F(()=>t("img",{style:{width:"62px",height:"62px",margin:"49px 0px 0px 72px"},src:W},null,-1)),et={class:"exchange-text"},st={class:"ex-time-text"},nt={style:{width:"1000px",margin:"0 auto"}},it={class:"contain-box"},at={class:"aside-top"},ot={class:"aside-top-font"},rt={style:{margin:"28px 0px 0px 32px"}},lt={class:"aside-info-title-special"},ut={class:"aside-info-fon"},_t={style:{margin:"20px 0px 0px 32px"}},dt={class:"aside-info-title"},ct={class:"aside-info-fon"},pt={style:{margin:"20px 0px 0px 32px"}},mt={class:"aside-info-title"},ft={class:"aside-info"},ht={style:{margin:"20px 0px 0px 32px"}},gt={class:"aside-info-title"},vt={class:"aside-info"},Et={style:{margin:"20px 0px 0px 32px"}},xt={class:"aside-info-title"},yt={class:"aside-info"},Ft={class:"main-top"},Dt={class:"aside-top-font"},St={class:"main-down-layout"},bt={class:"main-info-first"},$t={class:"main-info-second"},Bt={class:"main-info-thirdly"},Ct=F(()=>t("div",{class:"box-bottom-sty"},null,-1));function Rt(e,D,n,c,S,b){const r=H,f=P,h=A,g=L,o=q,l=M,_=k;return x(),y("div",null,[J,t("div",Q,[a(_,null,{default:d(()=>[a(h,{height:"396px"},{default:d(()=>[t("div",Y,[t("div",Z,[tt,t("div",null,[t("div",null,[t("p",et,s(e.return_state_name),1)]),t("div",null,[t("p",st,s(c.formatDateOneTime(e.returnDetail.return_add_time)),1)])])])]),t("div",nt,[a(f,{active:e.active,"align-center":"","finish-status":"success",style:{"margin-top":"58px"}},{default:d(()=>[a(r,{title:e.$t("提交退单")},null,8,["title"]),a(r,{title:e.$t("退单审核")},null,8,["title"]),a(r,{title:e.$t("完成")},null,8,["title"])]),_:1},8,["active"])])]),_:1}),t("div",it,[a(_,{style:{height:"321px"}},{default:d(()=>[a(g,{width:"378px",style:{"border-right":"1px solid #EFEFEF",overflow:"hidden"}},{default:d(()=>[t("div",at,[t("span",ot,s(e.$t("退款信息")),1)]),t("div",null,[t("p",rt,[t("span",lt,s(e.$t("退款描述: ")),1),t("span",ut,s(e.returnDetail.return_buyer_message),1)]),t("p",_t,[t("span",dt,s(e.$t("退款原因: ")),1),t("span",ct,s(e.returnDetail.return_reason_name),1)]),t("p",pt,[t("span",mt,s(e.$t("售后编号: ")),1),t("span",ft,s(e.returnDetail.return_id),1)]),t("p",ht,[t("span",gt,s(e.$t("退款金额: ")),1),t("span",vt,s(e.returnDetail.submit_return_refund_amount),1)]),t("p",Et,[t("span",xt,s(e.$t("申请时间: ")),1),t("span",yt,s(c.formatDateOneTime(e.returnDetail.return_add_time)),1)])])]),_:1}),a(l,null,{default:d(()=>[t("div",Ft,[t("span",Dt,s(e.$t("退款商品")),1)]),(x(!0),y(I,null,O(e.returnDetail.items,(i,v)=>(x(),y("div",St,[a(o,{src:i.order_item_image,fit:"cover",class:"main-img-style",alt:i.order_item_image},null,8,["src","alt"]),t("div",null,[t("div",bt,s(i.product_name),1),t("div",$t,s(e.$t("商品编号:"))+s(i.product_id),1),t("div",Bt,s(e.$t("￥"))+s(i.return_item_subtotal),1)])]))),256))]),_:1})]),_:1})])]),_:1})]),Ct])}const Pt=X(j,[["render",Rt],["__scopeId","data-v-cd6d751a"]]);export{Pt as default};
