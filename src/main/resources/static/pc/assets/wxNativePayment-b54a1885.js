import{Q as b,a3 as w,T as C,b as S,e as k,u as I,r as v,f as V,a4 as R,i as P,t as T,U as q,$ as x,n as p,p as D,v as N,x as t,y as r,z as u,A as o,D as i,J as U,I as O,E as Q,W as L,X as M}from"./index-78223f15.js";import{E as z}from"./overlay-46bc55b6.js";import{E as X}from"./row-4e1462a5.js";import{E as Y}from"./col-4143b604.js";/* empty css             */import{S as A}from"./index-97ee7e1c.js";import{V as J}from"./index-73d04fee.js";import{g as W}from"./order-2615b0b0.js";import{c as j}from"./pay-9a19a417.js";import{_ as G}from"./yes-1a60a976.js";import{w as H}from"./wx_native-c08bdbdc.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./refs-eab7d2f3.js";import"./isUndefined-aa0326a0.js";import"./constants-2604e35b.js";const Z=b({components:{SuccessFilled:w,LocationFilled:C,ArrowRight:S,VueQrcode:J},setup(){const e=k(),l=I();let d=v(),s=V({order_id:e.query.order_id,orderDetail:{},qrcode_url:"",payment_amount:"",isPaly:!1,dialogVisible:!0,order_prefix:""});const E=v(5);let y=v(),h=()=>{!d.value&&s.orderDetail.order_is_paid!=A.ORDER_PAID_STATE_YES&&(y.value=E.value,clearInterval(d.value),d.value=setInterval(()=>{let a=s.order_id;s.order_prefix=a.substring(0,3),console.log(s.order_prefix),j({order_id:s.order_id}).then(n=>{n.status==200&&(clearInterval(d.value),s.isPaly=!0)})},2e3))},c=()=>{l.go(0)},_=()=>{W({order_id:s.order_id}).then(a=>{if(a.status==200){let n=a.data;if(s.orderDetail=n,n.order_is_paid==A.ORDER_PAID_STATE_YES){let f=s.order_id;s.order_prefix=f.substring(0,3),console.log(s.order_prefix),s.isPaly=!0}h()}else q.error(x("获取数据失败"))})};return R(()=>{clearInterval(d.value)}),P(()=>{s.order_id=e.query.order_id,s.qrcode_url=e.query.url,s.payment_amount=e.query.payment_amount,_()}),{refresh:c,...T(s)}}});const m=e=>(L("data-v-a9610bff"),e=e(),M(),e),ee={id:"page-container"},te={style:{width:"1200px",margin:"0 auto"}},oe={class:"breadcrumb clearfix"},se={class:"space-icon"},re=["title"],ue={class:"space-icon"},ae=["title"],ie={class:"container"},le={class:"pay-head-title"},de=m(()=>t("img",{style:{width:"62px",height:"62px",float:"left"},src:G},null,-1)),ne={class:"pay-head-desc"},ce={class:"pay-head-comment"},_e={class:"pay-head-over"},pe={class:"pay-head-price"},me=m(()=>t("div",{style:{height:"10px",background:"#F6F6F6",width:"100%"}},null,-1)),he={class:"pay-centent"},fe={class:"pay-centent-title"},Fe=m(()=>t("img",{style:{width:"90px",height:"25px",border:"2px solid #E73F30","margin-top":"25px",padding:"10px 45px"},src:H},null,-1)),ve=m(()=>t("div",{style:{"margin-top":"40px","border-bottom":"1px solid #EFEFEF"}},null,-1)),Ee={class:"pay-bottom"},ye={class:"pay-renovate"},ge={class:"error-container"},De={class:"error-content"},Ae={class:"pic-error"},Be={class:"el-image pic-error-parent"},$e={class:"success-title"},be=m(()=>t("div",{class:"el-image pic-error-child left"},null,-1)),we={class:"bullshit"},Ce={class:"bullshit-headline"},Se={style:{"font-size":"18px"}},ke={class:"bullshit-headline"},Ie={style:{"margin-left":"150px","margin-top":"60px"}};function Ve(e,l,d,s,E,y){const h=p("LocationFilled"),c=U,_=p("router-link"),a=p("ArrowRight"),n=p("VueQrcode"),f=p("SuccessFilled"),g=Y,B=X,$=z;return D(),N("div",ee,[t("div",te,[t("div",oe,[r(c,{class:"location"},{default:u(()=>[r(h)]),_:1}),r(_,{to:"/index",class:"home",title:e.$t("首页")},{default:u(()=>[i(o(e.$t("首页")),1)]),_:1},8,["title"]),t("span",se,[r(c,null,{default:u(()=>[r(a)]),_:1})]),t("span",{class:"home",title:e.$t("确认订单")},o(e.$t("确认订单")),9,re),t("span",ue,[r(c,null,{default:u(()=>[r(a)]),_:1})]),t("span",{class:"home cur",title:e.$t("订单支付")},o(e.$t("订单支付")),9,ae)])]),t("div",ie,[t("div",le,[de,t("div",ne,[t("div",ce,o(e.$t("订单已提交，请尽快完成支付")),1),t("div",_e,o(e.$t("请尽快完成订单支付，超时后将自动取消订单")),1)]),t("div",pe,[i(o(e.$t("应付金额：")),1),t("span",null,o(e.payment_amount),1)])]),me,t("div",he,[t("div",fe,o(e.$t("已选支付方式")),1),Fe,ve]),t("div",Ee,[t("p",null,o(e.$t("订单号："))+o(e.order_id),1),r(n,{value:e.qrcode_url,style:{width:"295px",height:"300px","margin-bottom":"30px"}},null,8,["value"]),t("div",ye,[i(o(e.$t("请使用微信扫码支付 "))+" ",1),t("span",{onClick:l[0]||(l[0]=(...F)=>e.refresh&&e.refresh(...F))},o(e.$t("刷新二维码")),1)])])]),r($,{modelValue:e.isPaly,"onUpdate:modelValue":l[1]||(l[1]=F=>e.isPaly=F),width:"651px",draggable:""},{default:u(()=>[t("div",ge,[t("div",De,[r(B,null,{default:u(()=>[r(g,null,{default:u(()=>[t("div",Ae,[t("div",Be,[r(f,{style:{width:"7em",height:"7em",color:"#67c23a"}}),t("div",$e,o(e.$t("恭喜您，支付成功啦！")),1)]),be])]),_:1}),r(g,null,{default:u(()=>[t("div",we,[t("div",Ce,[i(o(e.$t("支付方式："))+" ",1),t("span",Se,o(e.$t("微信")),1)]),t("div",ke,[i(o(e.$t("支付金额：")),1),t("span",null,o(e.$t("￥"))+o(e.orderDetail.order_payment_amount),1)]),t("div",Ie,[r(_,{to:"/product/lists",class:"bullshit-return-home router-link-active",style:{"background-color":"#f0f2f5",color:"#303133"}},{default:u(()=>[i(o(e.$t("继续购物")),1)]),_:1}),e.order_prefix!="EXT"?(D(),O(_,{key:0,to:{path:"/user/order/detail",query:{order_id:e.order_id}},class:"bullshit-return-home router-link-active"},{default:u(()=>[i(o(e.$t("订单详情")),1)]),_:1},8,["to"])):Q("",!0)])])]),_:1})]),_:1})])])]),_:1},8,["modelValue"])])}const We=K(Z,[["render",Ve],["__scopeId","data-v-a9610bff"]]);export{We as default};
